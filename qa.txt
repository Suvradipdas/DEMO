SELECT
  /*+ LEADING(A) */
  B.ADS_LOGIN_NAME ,
  A.BAND ,
  A.BUSINESS_GROUP_ID ,
  A.CONTRACTOR_FLAG ,
  A.D_ASTERISK1 ,
  A.D_ASTERISK2 ,
  A.D_ASTERISK3 ,
  A.D_ASTERISK4 ,
  A.D_ASTERISK5 ,
  A.D_DEVELOPMENT_AT ,
  A.D_DEVELOPMENT_TIB ,
  A.D_DEVELOPMENT_TIP ,
  A.D_DEVELOPMENT_TISB ,
  A.D_DEVELOPMENT_TSA ,
  A.D_FULL_TENURE ,
  A.D_LOA_PT_ADJ_AT ,
  A.D_LOA_PT_ADJ_TIB ,
  A.D_LOA_PT_ADJ_TIP ,
  A.D_LOA_PT_ADJ_TISB ,
  A.D_LOA_PT_ADJ_TSA ,
  A.D_STANDARD_AT ,
  A.D_STANDARD_TIB ,
  A.D_STANDARD_TIP ,
  A.D_STANDARD_TISB ,
  A.D_STANDARD_TSA ,
  A.DEPARTMENT_ID ,
  A.FACT_ID ,
  A.FUNCTION_ID ,
  A.GOC_OFFICE_LOCATION_ID ,
  A.LOCATION_OFFICE_LOCATION_ID,
  A.P_FMNO ,
  A.P_PERSON_ID ,
  A.PATH_ID ,
  A.PERSON_FLAG,
  A.PERSON_TYPE ,
  A.PERSON_TYPE_BAND ,
  A.ROLE_CATEGORY ,
  A.SUB_BAND
FROM XXMCK_TECHNICAL_TENURE A,
  MCK_SEC_CTRL B,
  MCK_ROLE_PTYPE_BAND_T2 C
WHERE A.PERSON_FLAG      = C.PERSON_FLAG
AND C.RESPONSIBILITY_KEY = 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)'
AND C.CONTRACTOR_FLAG    = 'VALUEOF(NQ_SESSION.CONTRACTOR_FLAG)'
AND (((
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('HR_REPORTING_FULL_ACCESS', 'HR_REPORTING_WO_COMP', 'HR_REPORTING_WO_COMP_AND_RATING', 'HR_REPORTING_WO_RATING')
    THEN A.GOC_OFFICE_LOCATION_ID
  END = B.GOC_ID
OR
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('HR_REPORTING_FULL_ACCESS', 'HR_REPORTING_WO_COMP', 'HR_REPORTING_WO_COMP_AND_RATING', 'HR_REPORTING_WO_RATING')
    THEN A.LOCATION_OFFICE_LOCATION_ID
  END = B.LOC_ID
OR
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('HR_REPORTING_FULL_ACCESS', 'HR_REPORTING_WO_COMP', 'HR_REPORTING_WO_COMP_AND_RATING', 'HR_REPORTING_WO_RATING')
    THEN A.FACT_ID
  END = B.FACT_ID
OR
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('HR_REPORTING_FULL_ACCESS', 'HR_REPORTING_WO_COMP', 'HR_REPORTING_WO_COMP_AND_RATING', 'HR_REPORTING_WO_RATING')
    THEN A.FUNCTION_ID
  END = B.FUNC_ID)
AND
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('HR_REPORTING_FULL_ACCESS', 'HR_REPORTING_WO_COMP', 'HR_REPORTING_WO_COMP_AND_RATING', 'HR_REPORTING_WO_RATING')
    THEN NVL(A.PATH_ID,B.PATH_ID)
  END = B.PATH_ID )
OR (
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('ALUMNI_REPORTING')
    THEN A.BUSINESS_GROUP_ID
  END = B.BG_ID
AND
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('ALUMNI_REPORTING')
    THEN A.ROLE_CATEGORY
  END = 'Client Service Professionals')
OR
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('HR_SHARED_SERVICES_REPORTING', 'PD_SHARED_SERVICES_REPORTING', 'HR_SHARED_SERVICE_PARTNER_WO_COMP_REPORTING')
    THEN A.BUSINESS_GROUP_ID
  END = B.BG_ID
OR
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('CONTRACTOR_REPORTING')
    THEN A.GOC_OFFICE_LOCATION_ID
  END = B.GOC_ID
OR (
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('FIRM_FUNCTION_REPORTING')
    THEN A.GOC_OFFICE_LOCATION_ID
  END = B.GOC_ID
AND
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('FIRM_FUNCTION_REPORTING')
    THEN A.ROLE_CATEGORY
  END IN ('Engagement Service Professionals', 'Firm Service Professionals'))
OR ((
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('PD_REPORTING_FULL_ACCESS', 'PD_REPORTING_WO_COMP')
    THEN A.GOC_OFFICE_LOCATION_ID
  END = B.GOC_ID
OR
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('PD_REPORTING_FULL_ACCESS', 'PD_REPORTING_WO_COMP')
    THEN A.LOCATION_OFFICE_LOCATION_ID
  END = B.LOC_ID
OR
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('PD_REPORTING_FULL_ACCESS', 'PD_REPORTING_WO_COMP')
    THEN A.FACT_ID
  END = B.FACT_ID
OR
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('PD_REPORTING_FULL_ACCESS', 'PD_REPORTING_WO_COMP')
    THEN A.FUNCTION_ID
  END = B.FUNC_ID)
AND
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('PD_REPORTING_FULL_ACCESS', 'PD_REPORTING_WO_COMP')
    THEN A.ROLE_CATEGORY
  END IN ('Engagement Service Professionals', 'Client Service Professionals'))
OR
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('SUPER_REPORTING_USER_CSP_ESP')
    THEN A.ROLE_CATEGORY
  END IN ('Engagement Service Professionals', 'Client Service Professionals')
OR
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('SUPER_REPORTING_USER_ESP_FSP')
    THEN A.ROLE_CATEGORY
  END IN ('Engagement Service Professionals', 'Firm Service Professionals')
OR
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('ADMIN ROLE','PARTNER_REPORTING_FULL_ACCESS', 'PARTNER_REPORTING_WO_COMP', 'PARTNER_REPORTING_WO_COMP_AND_RATING', 'PARTNER_REPORTING_WO_COMP_PCS', 'PARTNER_REPORTING_WO_RATING', 'FIRMWIDE_SUPER_REPORTING_USER', 'FIRMWIDE_SUPER_REPORTING_USER_WO_COMP_AND_RATING', 'FIRMWIDE_SUPER_REPORTING_USER_WO_RATING')
    THEN B.ADS_LOGIN_NAME
    ELSE '1'
  END=
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('ADMIN ROLE','PARTNER_REPORTING_FULL_ACCESS', 'PARTNER_REPORTING_WO_COMP', 'PARTNER_REPORTING_WO_COMP_AND_RATING', 'PARTNER_REPORTING_WO_COMP_PCS', 'PARTNER_REPORTING_WO_RATING', 'FIRMWIDE_SUPER_REPORTING_USER', 'FIRMWIDE_SUPER_REPORTING_USER_WO_COMP_AND_RATING', 'FIRMWIDE_SUPER_REPORTING_USER_WO_RATING')
    THEN B.ADS_LOGIN_NAME
    ELSE '2'
  END )
AND B.ADS_LOGIN_NAME =
  CASE
    WHEN 'VALUEOF(NQ_SESSION.SECURITY_RESPONSIBILITY)' IN ('ADMIN ROLE')
    THEN 'Weblogic'
    ELSE 'VALUEOF(NQ_SESSION.USER)'
  END